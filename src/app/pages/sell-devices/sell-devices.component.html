<div class="body">
  <div class="main">

    <div class="form_wrapper">
      <div class="form_container">
        <div class="title_container">
          <h2>Sell Device</h2>
        </div>
        <div class="row clearfix">
          <div class="">
            <form [formGroup]="sellDeviceForm" (ngSubmit)="sellDevice()">
              <div class="input_field select_option">
                <label for="brand">Select a Brand</label>
                <select id="brand" (change)="onBrandSelected($event)" formControlName="brandName">
                  <option value="1">Select a Brand</option>
                  <option *ngFor="let name of brandNames" [value]="name">{{ name }}</option>
                </select>
              </div>

              <div class="input_field select_option">
                <label for="model">Select Model</label>
                <select id="model" style="margin-top: 5px;" (change)="onModelSelected($event)"
                  formControlName="modelName">
                  <option value="1">Select Model</option>
                  <option *ngFor="let name of models" [value]="name">{{ name }}</option>
                </select>
              </div>

              <div class="input_field">
                <label for="imei1">IMEI Number1</label>
                <input type="text" id="imei1" name="imei1" placeholder="IMEI Number1" formControlName="imei1" />
                <div *ngIf="sellDeviceForm.controls['imei1'].invalid && sellDeviceForm.controls['imei1'].touched">
                  <div *ngIf="sellDeviceForm.controls['imei1'].errors?.['required']">
                    <label class="text-danger"> IMEI Number is required</label>
                  </div>
                  <div *ngIf="sellDeviceForm.controls['imei1'].errors?.['pattern']">
                    <label for="" class="text-danger"> Enter a Valid IMEI Number</label>
                  </div>
                </div>
              </div>

              <div class="input_field">
                <label for="imei2">IMEI Number2</label>
                <input type="text" id="imei2" name="imei2" placeholder="IMEI Number2" formControlName="imei2" />
                <div *ngIf="sellDeviceForm.controls['imei2'].invalid && sellDeviceForm.controls['imei2'].touched">
                  <div *ngIf="sellDeviceForm.controls['imei2'].errors?.['required']">
                    <label class="text-danger"> IMEI Number is required</label>
                  </div>
                  <div *ngIf="sellDeviceForm.controls['imei1'].errors?.['pattern']">
                    <label for="" class="text-danger"> Enter a Valid IMEI Number</label>
                  </div>
                </div>
              </div>

              <div class="input_field">
                <label for="mrp">MRP</label>
                <input type="text" id="mrp" name="mrp" placeholder="MRP" [(ngModel)]="addDevice.mrp"
                  formControlName="mrp" readonly />
              </div>

              <div class="input_field">
                <label for="fileCharge">File Charge</label>
                <input type="text" id="fileCharge" name="fileCharge" placeholder="File Charge"
                  [(ngModel)]="addDevice.fileCharge" formControlName="fileCharge" readonly />
              </div>

              <div class="input_field">
                <label for="tamount">Total Amount</label>
                <input type="text" id="tamount" name="tamount" placeholder="Total Amount"
                  [(ngModel)]="addDevice.totalAmount" formControlName="totalAmount" readonly />
              </div>

              <div class="input_field">
                <label for="sellAmount">Sell Amount</label>
                <input type="text" id="sellAmount" name="sellAmount" placeholder="Sell Amount" 
                  (input)="checkSellAmount($event)" formControlName="sellAmount" />
                <div *ngIf="showMessage">
                  <label style="font-size: 15px; color: red;">The amount should be less than total amount</label>
                </div>
              </div>

              <div class="input_field">
                <label for="downPayment">Down Payment</label>
                <input type="text" id="downPayment" name="downPayment" placeholder="Down Payment"
                  [(ngModel)]="addDevice.downPayment" (input)="dowmPaymnetInput($event)"
                  formControlName="downPayment" />
                <div *ngIf="invalidDownPayment">
                  <label for="downPayment" style="color: red;">Down Payment must be greater than 40% of total Amount
                  </label>
                </div>
              </div>

              <div class="input_field">
                <label for="financeAmount">Finance Amount</label>
                <input type="text" id="financeAmount" name="financeAmount" placeholder="Finance Amount"
                  [(ngModel)]="addDevice.financeAmount" formControlName="financeAmount" readonly />
              </div>

              <div class="input_field select_option">
                <label for="emi">Select EMI</label>
                <select id="emi" (change)="onEmiSelected($event)" formControlName="emi">
                  <option value="0">Select EMI</option>
                  <option *ngFor="let emi of emis" [value]="emi">{{ emi }}</option>
                </select>
              </div>

              <div class="input_field">
                <label for="emiAmount">EMI Amount</label>
                <input type="text" id="emiAmount" name="emiAmount" placeholder="EMI Amount"
                  [(ngModel)]="addDevice.emiAmount" (input)="onEmiAmount($event)" formControlName="emiAmount" readonly />
                <div *ngIf="emiLabel">
                  <label for="downPayment" style="color: red;">Emi amoint should be greater then 1000</label>
                </div>
              </div>

              <!-- <input class="button" type="submit" value="Register" /> -->
              <div class="wrap">
                <button type="submit">
                  Submit
                </button>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>